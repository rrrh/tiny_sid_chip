<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: architecture Pages: 1 -->
<svg width="1628pt" height="271pt"
 viewBox="0.00 0.00 1628.09 270.67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 266.67)">
<title>architecture</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-266.67 1624.09,-266.67 1624.09,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_inputs</title>
<polygon fill="white" stroke="#888888" stroke-dasharray="5,2" points="46,-75.67 46,-254.67 126,-254.67 126,-75.67 46,-75.67"/>
<text text-anchor="middle" x="86" y="-242.67" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#888888">Input Pins</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_outputs</title>
<polygon fill="white" stroke="#888888" stroke-dasharray="5,2" points="1179,-72.67 1179,-205.67 1264,-205.67 1264,-72.67 1179,-72.67"/>
<text text-anchor="middle" x="1221.5" y="-193.67" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#888888">Output Pins</text>
</g>
<!-- spi_clk -->
<g id="node1" class="node">
<title>spi_clk</title>
<polygon fill="#d4e6f1" stroke="black" points="96.5,-221.67 57.5,-221.67 57.5,-197.67 96.5,-197.67 96.5,-191.67 114.5,-209.67 96.5,-227.67 96.5,-221.67"/>
<text text-anchor="middle" x="86" y="-212.87" font-family="Helvetica,sans-Serif" font-size="11.00">ui_in[0]</text>
<text text-anchor="middle" x="86" y="-200.87" font-family="Helvetica,sans-Serif" font-size="11.00">spi_clk</text>
</g>
<!-- spi_regs -->
<g id="node4" class="node">
<title>spi_regs</title>
<polygon fill="#aed6f1" stroke="transparent" points="209,-183.67 209,-209.67 463,-209.67 463,-183.67 209,-183.67"/>
<polygon fill="none" stroke="black" points="209,-183.67 209,-209.67 463,-209.67 463,-183.67 209,-183.67"/>
<text text-anchor="start" x="310.5" y="-194.87" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="11.00">spi_regs</text>
<polygon fill="none" stroke="black" points="209,-145.67 209,-183.67 324,-183.67 324,-145.67 209,-145.67"/>
<text text-anchor="start" x="242" y="-161.87" font-family="Helvetica,sans-Serif" font-size="11.00">2FF sync</text>
<polygon fill="none" stroke="black" points="324,-145.67 324,-183.67 463,-183.67 463,-145.67 324,-145.67"/>
<text text-anchor="start" x="364.5" y="-167.87" font-family="Helvetica,sans-Serif" font-size="11.00">Write&#45;only</text>
<text text-anchor="start" x="357" y="-155.87" font-family="Helvetica,sans-Serif" font-size="11.00">register bank</text>
<polygon fill="none" stroke="black" points="209,-85.67 209,-145.67 463,-145.67 463,-85.67 209,-85.67"/>
<text text-anchor="start" x="228" y="-130.87" font-family="Helvetica,sans-Serif" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="304" y="-130.87" font-family="Helvetica,sans-Serif" font-size="8.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reg 0: frequency [15:0]</text>
<text text-anchor="start" x="269.5" y="-122.27" font-family="Helvetica,sans-Serif" font-size="8.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reg 1: duration [15:0]</text>
<text text-anchor="start" x="276.5" y="-114.27" font-family="Helvetica,sans-Serif" font-size="8.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reg 2: attack [7:0]</text>
<text text-anchor="start" x="274" y="-106.27" font-family="Helvetica,sans-Serif" font-size="8.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reg 3: sustain [7:0]</text>
<text text-anchor="start" x="216" y="-95.87" font-family="Helvetica,sans-Serif" font-size="8.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;reg 4: waveform [7:0] &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
<text text-anchor="start" x="395" y="-95.87" font-family="Helvetica,sans-Serif" font-size="11.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</text>
</g>
<!-- spi_clk&#45;&gt;spi_regs -->
<g id="edge1" class="edge">
<title>spi_clk&#45;&gt;spi_regs</title>
<path fill="none" stroke="black" d="M114.97,-202.68C136.15,-197.38 166.96,-189.68 198.85,-181.71"/>
<polygon fill="black" stroke="black" points="199.93,-185.05 208.78,-179.22 198.23,-178.25 199.93,-185.05"/>
</g>
<!-- spi_cs_n -->
<g id="node2" class="node">
<title>spi_cs_n</title>
<polygon fill="#d4e6f1" stroke="black" points="99,-167.67 55,-167.67 55,-143.67 99,-143.67 99,-137.67 117,-155.67 99,-173.67 99,-167.67"/>
<text text-anchor="middle" x="86" y="-158.87" font-family="Helvetica,sans-Serif" font-size="11.00">ui_in[1]</text>
<text text-anchor="middle" x="86" y="-146.87" font-family="Helvetica,sans-Serif" font-size="11.00">spi_cs_n</text>
</g>
<!-- spi_cs_n&#45;&gt;spi_regs -->
<g id="edge2" class="edge">
<title>spi_cs_n&#45;&gt;spi_regs</title>
<path fill="none" stroke="black" d="M117.41,-154.69C138.38,-154.01 167.9,-153.06 198.45,-152.07"/>
<polygon fill="black" stroke="black" points="198.95,-155.56 208.83,-151.74 198.72,-148.56 198.95,-155.56"/>
</g>
<!-- spi_mosi -->
<g id="node3" class="node">
<title>spi_mosi</title>
<polygon fill="#d4e6f1" stroke="black" points="100,-113.67 54,-113.67 54,-89.67 100,-89.67 100,-83.67 118,-101.67 100,-119.67 100,-113.67"/>
<text text-anchor="middle" x="86" y="-104.87" font-family="Helvetica,sans-Serif" font-size="11.00">ui_in[2]</text>
<text text-anchor="middle" x="86" y="-92.87" font-family="Helvetica,sans-Serif" font-size="11.00">spi_mosi</text>
</g>
<!-- spi_mosi&#45;&gt;spi_regs -->
<g id="edge3" class="edge">
<title>spi_mosi&#45;&gt;spi_regs</title>
<path fill="none" stroke="black" d="M118.16,-107.45C139.23,-111.36 168.67,-116.82 199.08,-122.46"/>
<polygon fill="black" stroke="black" points="198.5,-125.91 208.97,-124.29 199.78,-119.03 198.5,-125.91"/>
</g>
<!-- sid_voice -->
<g id="node5" class="node">
<title>sid_voice</title>
<polygon fill="#a9dfbf" stroke="transparent" points="555.5,-103.67 555.5,-129.67 830.5,-129.67 830.5,-103.67 555.5,-103.67"/>
<polygon fill="none" stroke="black" points="555.5,-103.67 555.5,-129.67 830.5,-129.67 830.5,-103.67 555.5,-103.67"/>
<text text-anchor="start" x="664.5" y="-114.87" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="11.00">sid_voice</text>
<polygon fill="none" stroke="black" points="555.5,-65.67 555.5,-103.67 683.5,-103.67 683.5,-65.67 555.5,-65.67"/>
<text text-anchor="start" x="585" y="-87.87" font-family="Helvetica,sans-Serif" font-size="11.00">24&#45;bit phase</text>
<text text-anchor="start" x="585" y="-75.87" font-family="Helvetica,sans-Serif" font-size="11.00">accumulator</text>
<polygon fill="none" stroke="black" points="683.5,-65.67 683.5,-103.67 830.5,-103.67 830.5,-65.67 683.5,-65.67"/>
<text text-anchor="start" x="716.5" y="-87.87" font-family="Helvetica,sans-Serif" font-size="11.00">Waveform gen</text>
<text text-anchor="start" x="700.5" y="-75.87" font-family="Helvetica,sans-Serif" font-size="11.00">(saw/tri/pulse/noise)</text>
<polygon fill="none" stroke="black" points="555.5,-27.67 555.5,-65.67 683.5,-65.67 683.5,-27.67 555.5,-27.67"/>
<text text-anchor="start" x="577" y="-49.87" font-family="Helvetica,sans-Serif" font-size="11.00">ADSR envelope</text>
<text text-anchor="start" x="562.5" y="-37.87" font-family="Helvetica,sans-Serif" font-size="11.00">(sid_asdr_generator)</text>
<polygon fill="none" stroke="black" points="683.5,-27.67 683.5,-65.67 830.5,-65.67 830.5,-27.67 683.5,-27.67"/>
<text text-anchor="start" x="724.5" y="-49.87" font-family="Helvetica,sans-Serif" font-size="11.00">12&#45;bit voice</text>
<text text-anchor="start" x="690.5" y="-37.87" font-family="Helvetica,sans-Serif" font-size="11.00">= waveform x envelope</text>
</g>
<!-- spi_regs&#45;&gt;sid_voice -->
<g id="edge4" class="edge">
<title>spi_regs&#45;&gt;sid_voice</title>
<path fill="none" stroke="black" d="M463.23,-123.1C489.72,-117.94 517.87,-112.47 545.02,-107.18"/>
<polygon fill="black" stroke="black" points="545.83,-110.59 554.98,-105.24 544.49,-103.72 545.83,-110.59"/>
<text text-anchor="middle" x="509" y="-131.47" font-family="Helvetica,sans-Serif" font-size="9.00" fill="#333333"> &#160;5 registers</text>
<text text-anchor="middle" x="509" y="-121.47" font-family="Helvetica,sans-Serif" font-size="9.00" fill="#333333"> &#160;(16/8&#45;bit) &#160;</text>
</g>
<!-- spi_miso -->
<g id="node8" class="node">
<title>spi_miso</title>
<polygon fill="#e8e8e8" stroke="black" points="1238,-172.67 1187,-172.67 1187,-140.67 1238,-140.67 1238,-134.67 1256,-156.67 1238,-178.67 1238,-172.67"/>
<text text-anchor="middle" x="1221.5" y="-165.87" font-family="Helvetica,sans-Serif" font-size="11.00">uo_out[0]</text>
<text text-anchor="middle" x="1221.5" y="-153.87" font-family="Helvetica,sans-Serif" font-size="11.00">spi_miso</text>
<text text-anchor="middle" x="1221.5" y="-141.87" font-family="Helvetica,sans-Serif" font-size="11.00">(tied low)</text>
</g>
<!-- spi_regs&#45;&gt;spi_miso -->
<g id="edge7" class="edge">
<title>spi_regs&#45;&gt;spi_miso</title>
<path fill="none" stroke="#aaaaaa" stroke-dasharray="5,2" d="M463.11,-148.95C663.91,-151 1046.84,-154.9 1176.4,-156.22"/>
<polygon fill="#aaaaaa" stroke="#aaaaaa" points="1176.68,-159.72 1186.71,-156.33 1176.75,-152.72 1176.68,-159.72"/>
<text text-anchor="middle" x="894" y="-156.47" font-family="Helvetica,sans-Serif" font-size="9.00" fill="#aaaaaa"> &#160;always 0 &#160;</text>
</g>
<!-- dac -->
<g id="node6" class="node">
<title>dac</title>
<polygon fill="#f9e79f" stroke="transparent" points="958.5,-95.67 958.5,-121.67 1093.5,-121.67 1093.5,-95.67 958.5,-95.67"/>
<polygon fill="none" stroke="black" points="958.5,-95.67 958.5,-121.67 1093.5,-121.67 1093.5,-95.67 958.5,-95.67"/>
<text text-anchor="start" x="975.5" y="-106.87" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="11.00">delta_sigma_dac</text>
<polygon fill="none" stroke="black" points="958.5,-72.67 958.5,-95.67 1093.5,-95.67 1093.5,-72.67 958.5,-72.67"/>
<text text-anchor="start" x="965.5" y="-82.27" font-family="Helvetica,sans-Serif" font-size="8.00">{pdm_out, acc} &lt;= acc + din</text>
<polygon fill="none" stroke="black" points="958.5,-34.67 958.5,-72.67 1093.5,-72.67 1093.5,-34.67 958.5,-34.67"/>
<text text-anchor="start" x="991" y="-56.87" font-family="Helvetica,sans-Serif" font-size="11.00">1st&#45;order ΔΣ</text>
<text text-anchor="start" x="975" y="-44.87" font-family="Helvetica,sans-Serif" font-size="11.00">12&#45;bit → 1&#45;bit PDM</text>
</g>
<!-- sid_voice&#45;&gt;dac -->
<g id="edge5" class="edge">
<title>sid_voice&#45;&gt;dac</title>
<path fill="none" stroke="black" d="M830.04,-78.67C870.24,-78.67 912.79,-78.67 947.8,-78.67"/>
<polygon fill="black" stroke="black" points="947.94,-82.17 957.94,-78.67 947.94,-75.17 947.94,-82.17"/>
<text text-anchor="middle" x="894" y="-91.47" font-family="Helvetica,sans-Serif" font-size="9.00" fill="#333333"> &#160;voice[11:0]</text>
<text text-anchor="middle" x="894" y="-81.47" font-family="Helvetica,sans-Serif" font-size="9.00" fill="#333333"> &#160;(12&#45;bit unsigned) &#160;</text>
</g>
<!-- pdm_out -->
<g id="node7" class="node">
<title>pdm_out</title>
<polygon fill="#fadbd8" stroke="black" points="1238,-110.67 1187,-110.67 1187,-86.67 1238,-86.67 1238,-80.67 1256,-98.67 1238,-116.67 1238,-110.67"/>
<text text-anchor="middle" x="1221.5" y="-101.87" font-family="Helvetica,sans-Serif" font-size="11.00">uo_out[1]</text>
<text text-anchor="middle" x="1221.5" y="-89.87" font-family="Helvetica,sans-Serif" font-size="11.00">pdm_out</text>
</g>
<!-- dac&#45;&gt;pdm_out -->
<g id="edge6" class="edge">
<title>dac&#45;&gt;pdm_out</title>
<path fill="none" stroke="black" d="M1093.26,-85.55C1120.88,-88.4 1152.14,-91.62 1176.76,-94.16"/>
<polygon fill="black" stroke="black" points="1176.57,-97.66 1186.87,-95.2 1177.29,-90.7 1176.57,-97.66"/>
<text text-anchor="middle" x="1140" y="-105.47" font-family="Helvetica,sans-Serif" font-size="9.00" fill="#333333"> &#160;1&#45;bit PDM</text>
<text text-anchor="middle" x="1140" y="-95.47" font-family="Helvetica,sans-Serif" font-size="9.00" fill="#333333"> &#160;@ 50 MHz &#160;</text>
</g>
<!-- rc_filter -->
<g id="node9" class="node">
<title>rc_filter</title>
<polygon fill="#f5cba7" stroke="black" points="1430.47,-130.67 1333.53,-130.67 1299,-66.67 1465,-66.67 1430.47,-130.67"/>
<text text-anchor="middle" x="1382" y="-101.87" font-family="Helvetica,sans-Serif" font-size="11.00">RC low&#45;pass</text>
<text text-anchor="middle" x="1382" y="-89.87" font-family="Helvetica,sans-Serif" font-size="11.00">filter</text>
</g>
<!-- pdm_out&#45;&gt;rc_filter -->
<g id="edge8" class="edge">
<title>pdm_out&#45;&gt;rc_filter</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M1256.11,-98.67C1270.7,-98.67 1288.41,-98.67 1305.86,-98.67"/>
<polygon fill="black" stroke="black" points="1306.07,-102.17 1316.07,-98.67 1306.07,-95.17 1306.07,-102.17"/>
<text text-anchor="middle" x="1277.5" y="-101.47" font-family="Helvetica,sans-Serif" font-size="9.00"> &#160;</text>
</g>
<!-- audio_out -->
<g id="node10" class="node">
<title>audio_out</title>
<polygon fill="#d5f5e3" stroke="black" points="1616.13,-88.53 1616.13,-108.81 1585.62,-123.15 1542.47,-123.15 1511.96,-108.81 1511.96,-88.53 1542.47,-74.18 1585.62,-74.18 1616.13,-88.53"/>
<polygon fill="none" stroke="black" points="1620.13,-85.99 1620.13,-111.35 1586.51,-127.15 1541.58,-127.15 1507.96,-111.35 1507.96,-85.99 1541.58,-70.19 1586.51,-70.19 1620.13,-85.99"/>
<text text-anchor="middle" x="1564.04" y="-101.87" font-family="Helvetica,sans-Serif" font-size="11.00">Analog</text>
<text text-anchor="middle" x="1564.04" y="-89.87" font-family="Helvetica,sans-Serif" font-size="11.00">audio out</text>
</g>
<!-- rc_filter&#45;&gt;audio_out -->
<g id="edge9" class="edge">
<title>rc_filter&#45;&gt;audio_out</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M1447.75,-98.67C1463.87,-98.67 1481.18,-98.67 1497.35,-98.67"/>
<polygon fill="black" stroke="black" points="1497.79,-102.17 1507.79,-98.67 1497.79,-95.17 1497.79,-102.17"/>
<text text-anchor="middle" x="1486.5" y="-101.47" font-family="Helvetica,sans-Serif" font-size="9.00"> &#160;</text>
</g>
<!-- clk_rst -->
<g id="node11" class="node">
<title>clk_rst</title>
<polygon fill="#d7bde2" stroke="black" points="86,-65.67 0,-33.67 86,-1.67 172,-33.67 86,-65.67"/>
<text text-anchor="middle" x="86" y="-36.87" font-family="Helvetica,sans-Serif" font-size="11.00">clk (50 MHz)</text>
<text text-anchor="middle" x="86" y="-24.87" font-family="Helvetica,sans-Serif" font-size="11.00">rst_n</text>
</g>
<!-- clk_rst&#45;&gt;spi_regs -->
<g id="edge10" class="edge">
<title>clk_rst&#45;&gt;spi_regs</title>
<path fill="none" stroke="#9b59b6" stroke-dasharray="5,2" d="M125.99,-50.94C140.46,-57.4 157,-64.82 172,-71.67 181.51,-76.01 191.31,-80.51 201.18,-85.07"/>
<ellipse fill="#9b59b6" stroke="#9b59b6" cx="205.1" cy="-86.88" rx="4" ry="4"/>
</g>
<!-- clk_rst&#45;&gt;sid_voice -->
<g id="edge11" class="edge">
<title>clk_rst&#45;&gt;sid_voice</title>
<path fill="none" stroke="#9b59b6" stroke-dasharray="5,2" d="M158.12,-38.96C253.25,-46.05 424.15,-58.77 546.89,-67.9"/>
<ellipse fill="#9b59b6" stroke="#9b59b6" cx="550.92" cy="-68.2" rx="4" ry="4"/>
</g>
<!-- clk_rst&#45;&gt;dac -->
<g id="edge12" class="edge">
<title>clk_rst&#45;&gt;dac</title>
<path fill="none" stroke="#9b59b6" stroke-dasharray="5,2" d="M149.59,-25.31C278.03,-9.72 580.27,18.97 830,-18.67 870.44,-24.77 914.08,-37.62 949.75,-49.86"/>
<ellipse fill="#9b59b6" stroke="#9b59b6" cx="953.92" cy="-51.32" rx="4" ry="4"/>
</g>
</g>
</svg>
